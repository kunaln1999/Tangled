<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Date - Tangled</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="Images/tangled-spiral-favicon.png">
  <link rel="shortcut icon" type="image/png" href="Images/tangled-spiral-favicon.png">
  <link rel="apple-touch-icon" href="Images/tangled-spiral-favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="global.css">
</head>

<body class="page-date">
  <!-- Header widget mount -->
  <div id="app-header-mount"></div>

  <main class="page-main">
    <!-- Decorative Background Blobs -->
    <div class="date-bg-blobs" aria-hidden="true">
      <div class="blob blob-1"></div>
      <div class="blob blob-2"></div>
      <div class="blob blob-3"></div>
    </div>

    <!-- Hero Section -->
    <header class="date-hero">
      <div class="hero-content" data-reveal-stagger>
        <h1 class="hero-title">Date on <br><span>Tangled</span></h1>
        <p class="hero-subtitle">Meet faster, better, and more meaningfully. <br>Turn a good chat into a real plan.</p>
        <div class="hero-visual" data-reveal>
          <div class="hero-image-island">
            <img src="Images/jelly-love-cover.png" alt="Tangled Dating" class="hero-img">
            <div class="hero-glow"></div>
          </div>
        </div>
      </div>
    </header>

    <div class="date-content-wrapper">
      <!-- Section 1 -->
      <section class="date-section">
        <div class="section-grid">
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">what do <br><em>we do?</em></h2>
            <p class="section-description">We help you meet faster and better. Tangled turns a good chat into a real
              plan with meaningful matches, smart prompts, and tools that keep you in control.</p>
          </div>
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/wave-sticker.png'); transform: rotate(-5deg);" data-parallax="0.6">
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 2 -->
      <section class="date-section alternate">
        <div class="section-grid">
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/chat-bubble-sticker.png'); transform: rotate(-8deg);"
                data-parallax="0.8"></div>
            </div>
          </div>
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">quick <br><em>messaging</em></h2>
            <p class="section-description">Engage effortlessly with matches via our lively chat feature, fostering fun,
              meaningful exchanges and genuine connections in a secure, easy-to-use platform.</p>
          </div>
        </div>
      </section>

      <!-- Section 3 -->
      <section class="date-section">
        <div class="section-grid">
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">online-first, <br><em>offline-fast</em></h2>
            <p class="section-description">Get smart profile recommendations that work both online and offline—see
              priority matches that fit your preferences, location, and timing.</p>
          </div>
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/sparkle-sticker.png'); transform: rotate(12deg);"
                data-parallax="1.2"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4 -->
      <section class="date-section alternate">
        <div class="section-grid">
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/shield-sticker.png'); transform: rotate(-10deg);"
                data-parallax="0.9"></div>
            </div>
          </div>
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">privacy & <br><em>incognito</em></h2>
            <p class="section-description">Go invisible when you want. Limit who can find you, pause discoverability,
              and share only what you’re comfortable with. Safety checks help you stay in control.</p>
          </div>
        </div>
      </section>

      <!-- Section 5 -->
      <section class="date-section">
        <div class="section-grid">
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">make plan, <br><em>go on the date</em></h2>
            <p class="section-description">Turn your matches into real moments. Tangled helps you move from chat to
              plan—simple, relaxed, and at your pace.</p>
          </div>
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/heart-sparkle-sticker.png'); transform: rotate(5deg);"
                data-parallax="1.1"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 6 -->
      <section class="date-section alternate">
        <div class="section-grid">
          <div class="section-visual" data-reveal>
            <div class="sticker-wrap">
              <div class="sticker-item slab-heart"
                style="background-image: url('Images/crush-star-sticker.png'); transform: rotate(-15deg);"
                data-parallax="1.3"></div>
            </div>
          </div>
          <div class="section-text" data-reveal-stagger>
            <h2 class="section-headline">crush <br><em>likes</em></h2>
            <p class="section-description">Crush Likes shows who’s into you so you can match instantly and turn sparks
              into something real, all at your pace.</p>
          </div>
        </div>
      </section>

      <!-- Final CTA -->
      <section class="date-cta" data-reveal>
        <div class="cta-inner" data-reveal-stagger>
          <h2 class="cta-title">Ready to start?</h2>
          <p class="cta-subtitle">Open Tangled and turn matches into real plans.</p>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer widget mount -->
  <div id="app-footer-mount"></div>

  <script src="cookies.js" defer></script>
  <script>
    document.documentElement.classList.add('page-date-active');
    fetch('index.html')
      .then(r => r.text())
      .then(html => {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        // Ensure logo sprite is present for <use href="#logo-tangled">
        if (!document.getElementById('logo-tangled')) {
          const sprite = doc.querySelector('svg symbol#logo-tangled');
          if (sprite) {
            const svgWrap = document.createElement('svg');
            svgWrap.setAttribute('aria-hidden', 'true');
            svgWrap.setAttribute('focusable', 'false');
            svgWrap.setAttribute('width', '0');
            svgWrap.setAttribute('height', '0');
            svgWrap.setAttribute('style', 'position:absolute; width:0; height:0; overflow:hidden');
            svgWrap.appendChild(sprite.cloneNode(true));
            document.body.insertBefore(svgWrap, document.body.firstChild);
          }
        }
        const headerTpl = doc.getElementById('app-header-template');
        const footerTpl = doc.getElementById('app-footer-template');

        const headerMount = document.getElementById('app-header-mount');
        if (headerTpl && headerMount) {
          const frag = headerTpl.content.cloneNode(true);
          headerMount.replaceWith(frag);
        }
        const footerMount = document.getElementById('app-footer-mount');
        if (footerTpl && footerMount) {
          const fragFooter = footerTpl.content.cloneNode(true);
          footerMount.replaceWith(fragFooter);
        }

        // After mounting, wire up the header hamburger just like on index.html
        (function () {
          function toggleHeader(expand, header, btn) {
            if (!header) return;
            const willExpand = (typeof expand === 'boolean') ? expand : !header.classList.contains('expanded');
            header.classList.toggle('expanded', willExpand);
            if (btn) {
              btn.classList.toggle('is-open', willExpand);
              btn.setAttribute('aria-expanded', willExpand ? 'true' : 'false');
            }
          }

          // Event delegation so it works even if header is mounted later from template
          document.addEventListener('click', function (e) {
            const btn = e.target.closest('.hamburger');
            if (!btn) return;
            const header = btn.closest('.site-header') || document.querySelector('.site-header');
            toggleHeader(undefined, header, btn);
          }, true);

          // Close expanded state when resizing to desktop
          let lastWidth = window.innerWidth;
          window.addEventListener('resize', function () {
            const now = window.innerWidth;
            if (lastWidth !== now) {
              if (now > 980) {
                document.querySelectorAll('.site-header.expanded').forEach(function (h) {
                  h.classList.remove('expanded');
                  const b = h.querySelector('.hamburger');
                  if (b) { b.classList.remove('is-open'); b.setAttribute('aria-expanded', 'false'); }
                });
              }
              lastWidth = now;
            }
          });
        })();

        // Update footer year if present
        (function () {
          var y = document.getElementById('year');
          if (y) { y.textContent = String(new Date().getFullYear()); }
        })();
      });
  </script>
  <script>
    // Intersection Observer for scroll reveal
    (function () {
      const SELECTOR = '[data-reveal], [data-reveal-stagger]';
      function prepTarget(el) {
        if (el.__revealReady) return;
        el.__revealReady = true;
        if (el.hasAttribute('data-reveal-stagger')) {
          Array.from(el.children).forEach((child, idx) => {
            child.style.setProperty('--i', idx);
          });
        }
        io.observe(el);
      }
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const el = entry.target;
          if (entry.isIntersecting) {
            el.classList.add('in');
            if (el.hasAttribute('data-reveal-once')) io.unobserve(el);
          } else {
            if (!el.hasAttribute('data-reveal-once')) el.classList.remove('in');
          }
        });
      }, { rootMargin: '0px 0px -10% 0px', threshold: 0.1 });
      document.querySelectorAll(SELECTOR).forEach(prepTarget);
    })();

    // Cursor-driven micro-parallax for sticker images
    (function () {
      const elements = new Set();
      document.querySelectorAll('.slab-heart').forEach(el => {
        if (!el.hasAttribute('data-parallax')) el.setAttribute('data-parallax', '1');
      });

      document.querySelectorAll('[data-parallax]').forEach(el => {
        const base = el.style.transform || '';
        elements.add({
          el,
          base,
          factor: Math.max(0, parseFloat(el.getAttribute('data-parallax')) || 1),
          x: 0,
          y: 0,
          tx: 0,
          ty: 0
        });
      });

      if (!elements.size) return;

      let vw = window.innerWidth, vh = window.innerHeight;
      window.addEventListener('resize', () => { vw = window.innerWidth; vh = window.innerHeight; }, { passive: true });

      const MAX = 20;
      const LERP = 0.1;
      let mouseX = 0.5, mouseY = 0.5, rafId = 0, active = false;

      function onMove(e) {
        mouseX = e.clientX / vw;
        mouseY = e.clientY / vh;
        if (!active) { active = true; loop(); }
      }

      function loop() {
        elements.forEach(obj => {
          const dx = (mouseX - 0.5) * 2;
          const dy = (mouseY - 0.5) * 2;
          obj.tx = dx * MAX * obj.factor;
          obj.ty = dy * MAX * obj.factor;
          obj.x += (obj.tx - obj.x) * LERP;
          obj.y += (obj.ty - obj.y) * LERP;
          obj.el.style.transform = (obj.base ? obj.base + ' ' : '') + `translate3d(${obj.x.toFixed(2)}px, ${obj.y.toFixed(2)}px, 0)`;
        });
        if (active) rafId = requestAnimationFrame(loop);
      }

      function onLeave() {
        active = false;
        cancelAnimationFrame(rafId);
        elements.forEach(obj => {
          obj.el.style.transition = 'transform 0.5s ease-out';
          obj.el.style.transform = obj.base;
          setTimeout(() => { obj.el.style.transition = ''; obj.x = obj.y = 0; }, 500);
        });
      }

      window.addEventListener('mousemove', onMove, { passive: true });
      window.addEventListener('mouseleave', onLeave, { passive: true });

      elements.forEach(obj => {
        obj.el.addEventListener('click', () => {
          obj.el.animate([
            { transform: (obj.base ? obj.base + ' ' : '') + 'scale(1)' },
            { transform: (obj.base ? obj.base + ' ' : '') + 'scale(1.15)' },
            { transform: (obj.base ? obj.base + ' ' : '') + 'scale(0.95)' },
            { transform: (obj.base ? obj.base + ' ' : '') + 'scale(1)' }
          ], { duration: 400, easing: 'ease-out' });
        });
      });
    })();
  </script>
</body>

</html>